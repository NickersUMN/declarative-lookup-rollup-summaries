<template>
  <p>Configure when the process should run</p>
  <lightning-tabset>
    <lightning-tab
      label="Templates"
      value="templates"
      onactive={handeTabActivate}
      lwc:if={templates}
    >
      <lightning-layout multiple-rows>
        <lightning-layout-item size="12" medium-device-size="6">
          <lightning-combobox
            label="Template"
            value={selectedTemplate}
            options={templates}
            onchange={handleTemplateChange}
          ></lightning-combobox>

          <lightning-combobox
            label="Hour of the day"
            options={hours}
            value={selectedHourOfDay}
            onchange={handleSingleHourChange}
            lwc:if={shouldDisplaySingleHourSelector}
          ></lightning-combobox>

          <lightning-combobox
            label="Minute of the Hour"
            options={minutes}
            value={selectedMinuteOfTheHour}
            onchange={handleSingleMinuteChange}
            lwc:if={shouldDisplaySingleMinuteSelector}
          ></lightning-combobox>
        </lightning-layout-item>
      </lightning-layout>
    </lightning-tab>
    <lightning-tab label="Custom" value="custom" onactive={handeTabActivate}>
      <lightning-layout multiple-rows>
        <lightning-layout-item size="12">
          <p>
            The process will run when the current time matches at least one
            chosen value from each column
          </p>
        </lightning-layout-item>
        <lightning-layout-item
          size="6"
          medium-device-size="3"
          padding="around-small"
        >
          <!-- intentionally blank to align header-->
        </lightning-layout-item>
        <lightning-layout-item
          size="6"
          medium-device-size="3"
          padding="around-small"
        >
          <lightning-radio-group
            type="button"
            options={dayTypes}
            value={dayType}
            onchange={handleDayTypeChange}
          ></lightning-radio-group>
        </lightning-layout-item>
      </lightning-layout>
      <lightning-layout multiple-rows>
        <lightning-layout-item
          size="6"
          medium-device-size="3"
          padding="around-small"
        >
          <lightning-datatable
            data={months}
            columns={monthCols}
            key-field="value"
            selected-rows={selectedMonths}
            onrowselection={handleMonthChange}
          ></lightning-datatable>
        </lightning-layout-item>
        <lightning-layout-item
          size="6"
          medium-device-size="3"
          padding="around-small"
        >
          <lightning-datatable
            lwc:if={isWeekDayType}
            data={weekdays}
            columns={dayCols}
            key-field="value"
            selected-rows={selectedWeekdays}
            onrowselection={handleWeekdayChange}
          ></lightning-datatable>
          <lightning-datatable
            lwc:else
            data={days}
            columns={dayCols}
            key-field="value"
            selected-rows={selectedDays}
            onrowselection={handleDayChange}
          ></lightning-datatable>
        </lightning-layout-item>
        <lightning-layout-item
          size="6"
          medium-device-size="3"
          padding="around-small"
        >
          <lightning-datatable
            data={hours}
            columns={hourCols}
            key-field="value"
            selected-rows={selectedHours}
            onrowselection={handleHourChange}
          ></lightning-datatable>
        </lightning-layout-item>
        <lightning-layout-item
          size="6"
          medium-device-size="3"
          padding="around-small"
        >
          <lightning-datatable
            data={minutes}
            columns={minuteCols}
            key-field="value"
            selected-rows={selectedMinutes}
            onrowselection={handleMinuteChange}
          ></lightning-datatable>
        </lightning-layout-item>
      </lightning-layout>
    </lightning-tab>
  </lightning-tabset>
</template>
